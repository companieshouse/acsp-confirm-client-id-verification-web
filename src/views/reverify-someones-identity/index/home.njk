{% extends "layouts/default.njk" %}
{% set title = i18n.reverifyStartPageTitle %}

{% block backLink %}
    {# Remove back button on this page by replacing it with nothing #}
{% endblock %}

{% block main_content %}
    <form action="{{ currentUrl }}?lang={{ lang }}" method="POST">
        {% include "partials/csrf_token.njk" %}
        <h1 class="govuk-heading-l">{{ i18n.reverifyStartPageTitle }}</h1>

        <p class="govuk-body">{{ i18n.reverifyUseThisService }}</p>
        <p class="govuk-body">{{ i18n.theReverificationNoticesWeSend }}</p>

        <p class="govuk-body">{{ i18n.theIdentityChecksYouDoToReverify }}</p>
        <ul class="govuk-list govuk-list--bullet">
            <li>{{ i18n.meetOurListItem }} <a href="{{ identityVerificationStandardLink }}" id="identity-verification-standard-link">{{ i18n.identityVerificationStandardLink }}</a></li>
            <li>{{ i18n.followAnyInstructionsListItem }}</li>
        </ul>
        <p class="govuk-body">{{ i18n.wellAskYouToConfirmThis }}</p>

        <h2 class="govuk-heading-m">{{ i18n.whatYoullNeedSubHeading }}</h2>

        <p class="govuk-body">{{ i18n.youllNeedToGiveDetails }}</p>
        <ul class="govuk-list govuk-list--bullet">
            <li>{{ i18n.personalCodeListItem }}</li>
            <li>{{ i18n.emailAddressListItem }}</li>
        </ul>

        <p class="govuk-body">{{ i18n.youllAlsoNeedToGiveReverifcationDetails }}</p>
        <ul class="govuk-list govuk-list--bullet">
            <li>{{ i18n.personsFullNameListItem }}</li>
            <li>{{ i18n.personsDateOfBirthListItem }}</li>
            <li>{{ i18n.personsHomeAddressListItem }}</li>
            <li>{{ i18n.howYouCheckIdentityDocsListItem }}</li>
            <li>{{ i18n.whichDocumentsProvidedListItem }}</li>
            <li>{{ i18n.theDocumentReferencesListItem }}</li>
            <li>{{ i18n.theDateYouCompletedTheChecksListItem }}</li>
        </ul>

        <p class="govuk-body">{{ i18n.itTakesAroundTenMinutes }}</p>

        <button class="govuk-button govuk-button--start" data-module="govuk-button" id="start-now">
            {{ i18n.startNow }}
            <svg 
                class="govuk-button__start-icon" 
                xmlns="http://www.w3.org/2000/svg" 
                width="17.5" 
                height="19"
                viewBox="0 0 33 40" 
                aria-hidden="true" 
                focusable="false">
                <path fill="currentColor" d="M0 0h13l20 20-20 20H0l20-20z"></path>
            </svg>
        </button>

        <h2 class="govuk-heading-m">{{ i18n.whatHappensWhenYouReverifySubHeading }}</h2>

        <p class="govuk-body">{{ i18n.weWill }}</p>
        <ul class="govuk-list govuk-list--bullet">
            <li>{{ i18n.emailThePersonListItem }}</li>
            <li>{{ i18n.updateTheirIdentityVerificationRecordListItem }}</li>
        </ul>
        <p class="govuk-body">{{ i18n.ifThePersonConnectsTheirVerifiedIdentity }}</p>

        <p class="govuk-body">
            {{ i18n.readThe}}<a href="{{ guidanceAboutVerifyingSomeonesIdentityLink }}" id="read-the-guidance-verification-link">{{ i18n.guidanceAboutVerifyingLink }}</a>{{ i18n.toFindOutWhatInformationTheStatementIncludes }}
        </p>
    </form>

    <script nonce={{ nonce | dump | safe }}> 
        // Matomo tracking code to track event goal on click of start now button
        function startNowEventListener () {
            document.getElementById("start-now").addEventListener("click", () => {
                _paq.push(['trackGoal', "{{ PIWIK_REVERIFY_START_GOAL_ID }}"]);
            });
        }

        if (document.readyState === "loading") {
            document.addEventListener("DOMContentLoaded", function (e) {
                startNowEventListener()
            });
        } else {
            startNowEventListener()
        }
    </script>

{% endblock %}